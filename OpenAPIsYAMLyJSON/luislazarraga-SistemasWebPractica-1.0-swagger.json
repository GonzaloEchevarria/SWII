{
  "openapi" : "3.0.3",
  "info" : {
    "title" : "API para el MENU de nuestro restaurante",
    "version" : "1.0",
    "description" : "# Título\nAPI para los distintos platos de comida que incluimos en el menú.\nCuenta con operaciones CRUD para las comidas e ingredientes y su\ndisponibilidad en la semana \n"
  },
  "tags" : [ {
    "name" : "comida",
    "description" : "Menu"
  }, {
    "name" : "diasDeLaSemana",
    "description" : "Los dias donde la comida está disponible en el menu"
  } ],
  "paths" : {
    "/comidas" : {
      "get" : {
        "summary" : "Obtener el menu general",
        "operationId" : "getMenu",
        "tags" : [ "comida" ],
        "responses" : {
          "200" : {
            "description" : "OK/ACK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/comidas"
                }
              }
            }
          }
        }
      },
      "post" : {
        "summary" : "Añadir una comida al menu",
        "operationId" : "addComida",
        "tags" : [ "comida" ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/comida"
              }
            }
          }
        },
        "responses" : {
          "201" : {
            "description" : "Comida añadida al menú",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/info_nuevo_elemento"
                }
              }
            }
          },
          "default" : {
            "description" : "Error al añadir comida",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/error"
                }
              }
            }
          }
        }
      }
    },
    "/comidas/{id}" : {
      "get" : {
        "summary" : "Obtener datos de una comida dada",
        "operationId" : "getComidaFromId",
        "tags" : [ "comida" ],
        "responses" : {
          "200" : {
            "description" : "ACK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/comida"
                }
              },
              "application/xml" : {
                "schema" : {
                  "$ref" : "#/components/schemas/comida"
                }
              }
            }
          },
          "default" : {
            "description" : "Error al obtener el menú",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/error"
                }
              }
            }
          }
        },
        "parameters" : [ {
          "$ref" : "#/components/parameters/id"
        } ]
      },
      "put" : {
        "summary" : "Modificar datos de una comida concreta",
        "operationId" : "updateMenu",
        "tags" : [ "comida" ],
        "parameters" : [ {
          "$ref" : "#/components/parameters/id"
        } ],
        "responses" : {
          "201" : {
            "description" : "Ok"
          },
          "default" : {
            "description" : "Error al obtener el menú",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/error"
                }
              }
            }
          }
        },
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/comida_edit"
              }
            }
          }
        }
      },
      "delete" : {
        "summary" : "Eliminar una comida del menú",
        "description" : "TODO",
        "operationId" : "eliminarComida",
        "tags" : [ "comida" ],
        "parameters" : [ {
          "$ref" : "#/components/parameters/id"
        } ],
        "responses" : {
          "200" : {
            "description" : "ACK"
          },
          "default" : {
            "description" : "Error al obtener el menu",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/error"
                }
              }
            }
          }
        }
      }
    },
    "/comidas/{id}/diasDeLaSemana" : {
      "get" : {
        "summary" : "Ver los días de la semana en los que esa comida está en el menú",
        "operationId" : "getdiasDeLaSemanabyComidaId",
        "tags" : [ "comida", "diasDeLaSemana" ],
        "parameters" : [ {
          "$ref" : "#/components/parameters/id"
        } ],
        "responses" : {
          "200" : {
            "description" : "Ok",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/diasSemana"
                }
              }
            }
          },
          "default" : {
            "description" : "Error al acceder a la película",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/error"
                }
              }
            }
          }
        }
      },
      "post" : {
        "summary" : "Añade la comida a un dia de la semana",
        "operationId" : "addIdComidaToDiaSemana",
        "tags" : [ "comida", "diasDeLaSemana" ],
        "parameters" : [ {
          "$ref" : "#/components/parameters/id"
        } ],
        "responses" : {
          "201" : {
            "description" : "ACK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/info_nuevo_elemento"
                }
              }
            }
          },
          "default" : {
            "description" : "Error al obtener comida",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/error"
                }
              }
            }
          }
        },
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/diasDeLaSemana"
              }
            }
          }
        }
      }
    }
  },
  "components" : {
    "parameters" : {
      "id" : {
        "name" : "id",
        "in" : "path",
        "description" : "ID de la comida",
        "required" : true,
        "schema" : {
          "$ref" : "#/components/schemas/id"
        }
      }
    },
    "schemas" : {
      "id" : {
        "type" : "integer",
        "minimum" : 1
      },
      "error" : {
        "type" : "object",
        "properties" : {
          "descripcion" : {
            "type" : "string"
          },
          "codigo" : {
            "type" : "integer"
          }
        },
        "example" : {
          "descripcion" : "Input error",
          "codigo" : 400
        }
      },
      "info_nuevo_elemento" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "$ref" : "#/components/schemas/id"
          }
        },
        "example" : {
          "id" : 7
        }
      },
      "comidas" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/comida"
        }
      },
      "comida" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/comida_edit"
        }, {
          "required" : [ "comida", "descripcion", "tipo", "ingredientes" ]
        } ],
        "example" : {
          "comida" : "Lentejas_con_chorizo",
          "tipo" : {
            "tipo" : "legumbres"
          },
          "ingredientes" : [ {
            "nombre" : "lentejas"
          }, {
            "nombre" : "zanahorias"
          }, {
            "nombre" : "chorizo"
          }, {
            "nombre" : "guisantes"
          } ],
          "descripcion" : "Plato tradicional en españa"
        }
      },
      "comida_edit" : {
        "type" : "object",
        "additionalProperties" : false,
        "minProperties" : 1,
        "properties" : {
          "comida" : {
            "type" : "string"
          },
          "descripcion" : {
            "type" : "string"
          },
          "tipo" : {
            "type" : "integer"
          },
          "ingredientes" : {
            "$ref" : "#/components/schemas/array_ingredientes"
          }
        },
        "example" : {
          "comida" : "Lentejas_con_chorizo"
        }
      },
      "array_ingredientes" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/ingrediente"
        }
      },
      "ingrediente" : {
        "type" : "object",
        "required" : [ "nombre" ],
        "properties" : {
          "nombre" : {
            "type" : "string"
          }
        },
        "example" : {
          "nombre" : "Queso"
        }
      },
      "diasSemana" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/diasDeLaSemana"
        }
      },
      "diasDeLaSemana" : {
        "type" : "object",
        "properties" : {
          "dia" : {
            "type" : "string",
            "format" : "string"
          },
          "periodo" : {
            "type" : "string",
            "format" : "string"
          }
        },
        "example" : {
          "dia" : "Martes",
          "periodo" : "Cena"
        }
      }
    }
  },
  "servers" : [ {
    "description" : "SwaggerHub API Auto Mocking",
    "url" : "https://virtserver.swaggerhub.com/luislazarraga/SistemasWebPractica"
  }, {
    "description" : "Basic Server",
    "url" : "/api/v1"
  } ]
}